% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bootstrap_diagnostics.R
\name{blockBootstrap_with_diagnostics}
\alias{blockBootstrap_with_diagnostics}
\title{Block Bootstrap with Diagnostics}
\usage{
blockBootstrap_with_diagnostics(
  x,
  n_boot = NULL,
  block_length = NULL,
  bs_type = c("moving", "stationary"),
  block_type = c("overlapping", "non-overlapping"),
  num_boots = 100L,
  p = 0.1,
  collect_diagnostics = TRUE,
  taper_type = "cosine",
  tukey_alpha = 0.5
)
}
\arguments{
\item{x}{Numeric matrix with rows as time points, columns as variables.}

\item{n_boot}{Integer. Desired length of bootstrap series. If NULL, uses
length of original series.}

\item{block_length}{Integer. Block length for moving bootstrap, or expected
block length for stationary bootstrap. If NULL, computed automatically.}

\item{bs_type}{Character. Either "moving" or "stationary".}

\item{block_type}{Character. One of "overlapping", "non-overlapping", or
"tapered".}

\item{num_boots}{Integer. Number of bootstrap replicates.}

\item{p}{Numeric in (0,1). Probability parameter for geometric distribution
in stationary bootstrap. Default 0.1.}

\item{collect_diagnostics}{Logical. If TRUE, collect block-level diagnostics.}

\item{taper_type}{Character. Taper window type if block_type = "tapered".}

\item{tukey_alpha}{Numeric. Alpha parameter for Tukey window.}
}
\value{
If collect_diagnostics = FALSE, a list of bootstrap matrices.
If collect_diagnostics = TRUE, a list with:
\describe{
\item{bootstrap_series}{List of bootstrap matrices}
\item{diagnostics}{A tsbs_diagnostics object with block information}
}
}
\description{
Performs Moving Block Bootstrap or Stationary Bootstrap while collecting
detailed diagnostic information about block composition.
}
\details{
This function provides an R implementation of block bootstrap that tracks
diagnostic information. For each bootstrap replicate, it records:
\itemize{
\item Block lengths used
\item Starting positions in original series
\item Source indices mapping each bootstrap observation to original
}

For the \strong{Moving Block Bootstrap}, blocks have fixed length and are sampled
uniformly from all possible starting positions.

For the \strong{Stationary Bootstrap}, block lengths are drawn from a geometric
distribution with parameter p, giving expected block length 1/p.
}
\examples{
\dontrun{
set.seed(123)
x <- matrix(rnorm(500), ncol = 2)

# Moving block bootstrap with diagnostics
result <- blockBootstrap_with_diagnostics(
  x, block_length = 10, bs_type = "moving",
  num_boots = 50, collect_diagnostics = TRUE
)

# View block length distribution
summary(result$diagnostics)

# Plot coverage
plot_block_coverage(result$diagnostics)
}

}
