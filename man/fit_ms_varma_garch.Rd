% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_ms_varma_garch.R
\name{fit_ms_varma_garch}
\alias{fit_ms_varma_garch}
\title{Fit a Flexible N-State Markov-Switching ARMA-GARCH Model}
\usage{
fit_ms_varma_garch(
  y,
  M,
  d = 0,
  spec,
  model_type = c("univariate", "multivariate"),
  control = list()
)
}
\arguments{
\item{y}{A numeric matrix or data frame where rows are observations and
columns are the time series variables.}

\item{M}{An integer specifying the number of states in the Markov chain.}

\item{d}{An integer specifying the order of differencing to be applied to
the series before fitting. This order is constant across all states.
Defaults to 0 (no differencing), which is appropriate for returns data.}

\item{spec}{A list of model specifications, one for each of the M states.
See Details for the required structure.}

\item{model_type}{A character string, either "univariate" or "multivariate".
Defaults to "univariate".}

\item{control}{A list of control parameters for the EM algorithm, including:
\item{max_iter}{An integer specifying the maximum number of EM iterations. Defaults to 100.}
\item{tol}{A numeric value specifying the convergence tolerance for the
log-likelihood. Defaults to 1e-6.}}
}
\value{
An object of class \code{msm.fit} containing the full results of the
estimation, including model fits for each state, the transition matrix,
smoothed probabilities, and information criteria.
}
\description{
This function provides a user-friendly interface to fit a general Markov-Switching
model. It handles data validation, pre-processing, calls the C++ estimation
engine, and formats the results into a well-structured object.
}
\details{
The \code{spec} argument is a list of length \code{M}, where each element \code{spec[[j]]}
defines the model for state \code{j}. This state-specific list must contain:
\itemize{
\item{For the mean model: \code{arma_order} (univariate) or \code{var_order} (multivariate).}
\item{For the variance model: \code{garch_model} (e.g., "garch"), \code{garch_order},
\code{distribution}, and for multivariate models, \code{garch_spec_fun} (e.g., "dcc_modelspec")
and \code{garch_spec_args}.}
\item{Starting parameters: \code{start_pars}, a list containing \code{arma_pars} (or \code{var_pars})
and \code{garch_pars}.}
}
}
